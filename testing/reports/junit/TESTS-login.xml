<testsuite name="login.用户登录" tests="5" errors="5" failures="0" skipped="0" time="14.649496" timestamp="2025-10-25T14:04:54.920719" hostname="SongBo"><testcase classname="login.用户登录" name="请求验证码时手机号格式无效" status="error" time="3.294757"><error type="Error" message="Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login&#10;Call log:&#10;  - navigating to &quot;http://localhost:5173/login&quot;, waiting until &quot;load&quot;">
<![CDATA[
Failing step: 假如 用户在登录页面 ... error in 3.294s
Location: features/login.feature:12
Traceback (most recent call last):
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\model.py", line 1991, in run
    match.run(runner.context)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\matchers.py", line 105, in run
    self.func(context, *args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "features\steps\login_steps.py", line 50, in step_user_on_login_page
    context.login_page.navigate_to_login_page()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Project\taobei-app\testing\pages\login_page.py", line 38, in navigate_to_login_page
    self.page.goto("http://localhost:5173/login", timeout=30000)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\sync_api\_generated.py", line 9019, in goto
    self._sync(
    ~~~~~~~~~~^
        self._impl_obj.goto(
        ^^^^^^^^^^^^^^^^^^^^
            url=url, timeout=timeout, waitUntil=wait_until, referer=referer
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        )
        ^
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_page.py", line 556, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 153, in goto
    await self._channel.send(
        "goto", self._navigation_timeout, locals_to_params(locals())
    )
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"

]]>
</error><system-out>
<![CDATA[
@scenario.begin
  场景: 请求验证码时手机号格式无效
    假如 系统已经启动 ... passed in 0.000s
    并且 数据库已经初始化 ... passed in 0.000s
    假如 用户在登录页面 ... error in 3.294s
    当 用户在登录页面输入一个无效的手机号"123"并点击"获取验证码" ... skipped in 0.000s
    那么 系统不发送验证码 ... skipped in 0.000s
    并且 页面提示"请输入正确的手机号码" ... skipped in 0.000s

@scenario.end
--------------------------------------------------------------------------------

Captured stdout:
=== before_scenario 被调用 ===
开始执行场景: 请求验证码时手机号格式无效
浏览器已初始化: True
浏览器上下文已初始化: True
页面驱动已初始化: True

场景执行完成: 请求验证码时手机号格式无效

系统已经启动
数据库已经初始化
导航到登录页面失败: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"


]]>
</system-out><system-err>
<![CDATA[
Captured stderr:



]]>
</system-err></testcase><testcase classname="login.用户登录" name="成功获取验证码" status="error" time="2.826735"><error type="Error" message="Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login&#10;Call log:&#10;  - navigating to &quot;http://localhost:5173/login&quot;, waiting until &quot;load&quot;">
<![CDATA[
Failing step: 假如 用户在登录页面 ... error in 2.827s
Location: features/login.feature:18
Traceback (most recent call last):
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\model.py", line 1991, in run
    match.run(runner.context)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\matchers.py", line 105, in run
    self.func(context, *args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "features\steps\login_steps.py", line 50, in step_user_on_login_page
    context.login_page.navigate_to_login_page()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Project\taobei-app\testing\pages\login_page.py", line 38, in navigate_to_login_page
    self.page.goto("http://localhost:5173/login", timeout=30000)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\sync_api\_generated.py", line 9019, in goto
    self._sync(
    ~~~~~~~~~~^
        self._impl_obj.goto(
        ^^^^^^^^^^^^^^^^^^^^
            url=url, timeout=timeout, waitUntil=wait_until, referer=referer
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        )
        ^
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_page.py", line 556, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 153, in goto
    await self._channel.send(
        "goto", self._navigation_timeout, locals_to_params(locals())
    )
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"

]]>
</error><system-out>
<![CDATA[
@scenario.begin
  场景: 成功获取验证码
    假如 系统已经启动 ... passed in 0.000s
    并且 数据库已经初始化 ... passed in 0.000s
    假如 用户在登录页面 ... error in 2.827s
    当 用户在登录页面输入一个格式正确的手机号"13800138000"并点击"获取验证码" ... skipped in 0.000s
    那么 系统为该手机号生成一个6位验证码并打印在控制台 ... skipped in 0.000s
    并且 "获取验证码"按钮进入60秒倒计时且不可点击 ... skipped in 0.000s
    并且 数据库记录手机号和验证码，有效期为60秒 ... skipped in 0.000s

@scenario.end
--------------------------------------------------------------------------------

Captured stdout:
=== before_scenario 被调用 ===
开始执行场景: 成功获取验证码
浏览器已初始化: True
浏览器上下文已初始化: True
页面驱动已初始化: True

场景执行完成: 成功获取验证码

系统已经启动
数据库已经初始化
导航到登录页面失败: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"


]]>
</system-out><system-err>
<![CDATA[
Captured stderr:



]]>
</system-err></testcase><testcase classname="login.用户登录" name="使用未注册的手机号登录" status="error" time="2.823845"><error type="Error" message="Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login&#10;Call log:&#10;  - navigating to &quot;http://localhost:5173/login&quot;, waiting until &quot;load&quot;">
<![CDATA[
Failing step: 并且 用户在登录页面 ... error in 2.823s
Location: features/login.feature:26
Traceback (most recent call last):
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\model.py", line 1991, in run
    match.run(runner.context)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\matchers.py", line 105, in run
    self.func(context, *args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "features\steps\login_steps.py", line 50, in step_user_on_login_page
    context.login_page.navigate_to_login_page()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Project\taobei-app\testing\pages\login_page.py", line 38, in navigate_to_login_page
    self.page.goto("http://localhost:5173/login", timeout=30000)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\sync_api\_generated.py", line 9019, in goto
    self._sync(
    ~~~~~~~~~~^
        self._impl_obj.goto(
        ^^^^^^^^^^^^^^^^^^^^
            url=url, timeout=timeout, waitUntil=wait_until, referer=referer
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        )
        ^
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_page.py", line 556, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 153, in goto
    await self._channel.send(
        "goto", self._navigation_timeout, locals_to_params(locals())
    )
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"

]]>
</error><system-out>
<![CDATA[
@scenario.begin
  场景: 使用未注册的手机号登录
    假如 系统已经启动 ... passed in 0.000s
    并且 数据库已经初始化 ... passed in 0.000s
    假如 一个手机号"13900139000"未被注册 ... passed in 0.001s
    并且 用户在登录页面 ... error in 2.823s
    当 用户使用该未注册的手机号和正确的验证码点击"登录" ... skipped in 0.000s
    那么 系统不让用户登录 ... skipped in 0.000s
    并且 页面提示"该手机号未注册，请先完成注册" ... skipped in 0.000s

@scenario.end
--------------------------------------------------------------------------------

Captured stdout:
=== before_scenario 被调用 ===
开始执行场景: 使用未注册的手机号登录
浏览器已初始化: True
浏览器上下文已初始化: True
页面驱动已初始化: True

场景执行完成: 使用未注册的手机号登录

系统已经启动
数据库已经初始化
手机号 13900139000 未被注册
导航到登录页面失败: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"


]]>
</system-out><system-err>
<![CDATA[
Captured stderr:



]]>
</system-err></testcase><testcase classname="login.用户登录" name="使用错误的验证码登录" status="error" time="2.864333"><error type="Error" message="Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login&#10;Call log:&#10;  - navigating to &quot;http://localhost:5173/login&quot;, waiting until &quot;load&quot;">
<![CDATA[
Failing step: 并且 用户在登录页面 ... error in 2.863s
Location: features/login.feature:33
Traceback (most recent call last):
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\model.py", line 1991, in run
    match.run(runner.context)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\matchers.py", line 105, in run
    self.func(context, *args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "features\steps\login_steps.py", line 50, in step_user_on_login_page
    context.login_page.navigate_to_login_page()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Project\taobei-app\testing\pages\login_page.py", line 38, in navigate_to_login_page
    self.page.goto("http://localhost:5173/login", timeout=30000)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\sync_api\_generated.py", line 9019, in goto
    self._sync(
    ~~~~~~~~~~^
        self._impl_obj.goto(
        ^^^^^^^^^^^^^^^^^^^^
            url=url, timeout=timeout, waitUntil=wait_until, referer=referer
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        )
        ^
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_page.py", line 556, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 153, in goto
    await self._channel.send(
        "goto", self._navigation_timeout, locals_to_params(locals())
    )
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"

]]>
</error><system-out>
<![CDATA[
@scenario.begin
  场景: 使用错误的验证码登录
    假如 系统已经启动 ... passed in 0.000s
    并且 数据库已经初始化 ... passed in 0.000s
    假如 一个手机号"13800138000"已被注册 ... passed in 0.001s
    并且 用户在登录页面 ... error in 2.863s
    当 用户使用该手机号和错误的验证码"000000"点击"登录" ... skipped in 0.000s
    那么 系统不让用户登录 ... skipped in 0.000s
    并且 页面提示"验证码错误" ... skipped in 0.000s

@scenario.end
--------------------------------------------------------------------------------

Captured stdout:
=== before_scenario 被调用 ===
开始执行场景: 使用错误的验证码登录
浏览器已初始化: True
浏览器上下文已初始化: True
页面驱动已初始化: True

场景执行完成: 使用错误的验证码登录

系统已经启动
数据库已经初始化
手机号 13800138000 已被注册
导航到登录页面失败: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"


]]>
</system-out><system-err>
<![CDATA[
Captured stderr:



]]>
</system-err></testcase><testcase classname="login.用户登录" name="成功登录" status="error" time="2.839825"><error type="Error" message="Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login&#10;Call log:&#10;  - navigating to &quot;http://localhost:5173/login&quot;, waiting until &quot;load&quot;">
<![CDATA[
Failing step: 并且 用户在登录页面 ... error in 2.838s
Location: features/login.feature:40
Traceback (most recent call last):
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\model.py", line 1991, in run
    match.run(runner.context)
    ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\behave\matchers.py", line 105, in run
    self.func(context, *args, **kwargs)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "features\steps\login_steps.py", line 50, in step_user_on_login_page
    context.login_page.navigate_to_login_page()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\Project\taobei-app\testing\pages\login_page.py", line 38, in navigate_to_login_page
    self.page.goto("http://localhost:5173/login", timeout=30000)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\sync_api\_generated.py", line 9019, in goto
    self._sync(
    ~~~~~~~~~~^
        self._impl_obj.goto(
        ^^^^^^^^^^^^^^^^^^^^
            url=url, timeout=timeout, waitUntil=wait_until, referer=referer
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        )
        ^
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_page.py", line 556, in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_frame.py", line 153, in goto
    await self._channel.send(
        "goto", self._navigation_timeout, locals_to_params(locals())
    )
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "d:\Project\taobei-app\.venv\Lib\site-packages\playwright\_impl\_connection.py", line 558, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.Error: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"

]]>
</error><system-out>
<![CDATA[
@scenario.begin
  场景: 成功登录
    假如 系统已经启动 ... passed in 0.000s
    并且 数据库已经初始化 ... passed in 0.000s
    假如 一个手机号"13800138000"已被注册 ... passed in 0.001s
    并且 用户在登录页面 ... error in 2.838s
    当 用户使用该手机号和正确的验证码点击"登录" ... skipped in 0.000s
    那么 系统验证成功 ... skipped in 0.000s
    并且 页面提示"登录成功" ... skipped in 0.000s
    并且 页面自动跳转到首页 ... skipped in 0.000s

@scenario.end
--------------------------------------------------------------------------------

Captured stdout:
=== before_scenario 被调用 ===
开始执行场景: 成功登录
浏览器已初始化: True
浏览器上下文已初始化: True
页面驱动已初始化: True

场景执行完成: 成功登录

系统已经启动
数据库已经初始化
手机号 13800138000 已被注册
导航到登录页面失败: Page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:5173/login
Call log:
  - navigating to "http://localhost:5173/login", waiting until "load"


]]>
</system-out><system-err>
<![CDATA[
Captured stderr:



]]>
</system-err></testcase></testsuite>