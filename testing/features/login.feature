# language: zh-CN
功能: 用户登录
  作为一个用户
  我想要能够登录系统
  以便访问我的账户

  背景:
    假如 系统已经启动
    并且 数据库已经初始化

  场景: 请求验证码时手机号格式无效
    假如 用户在登录页面
    当 用户在登录页面输入一个无效的手机号"123"并点击"获取验证码"
    那么 系统不发送验证码
    并且 页面提示"请输入正确的手机号码"

  场景: 成功获取验证码
    假如 用户在登录页面
    当 用户在登录页面输入一个格式正确的手机号"13800138000"并点击"获取验证码"
    那么 系统为该手机号生成一个6位验证码并打印在控制台
    并且 "获取验证码"按钮进入60秒倒计时且不可点击
    并且 数据库记录手机号和验证码，有效期为60秒

  场景: 使用未注册的手机号登录
    假如 一个手机号"13900139000"未被注册
    并且 用户在登录页面
    当 用户使用该未注册的手机号和正确的验证码点击"登录"
    那么 系统不让用户登录
    并且 页面提示"该手机号未注册，请先完成注册"

  场景: 使用错误的验证码登录
    假如 一个手机号"13800138000"已被注册
    并且 用户在登录页面
    当 用户使用该手机号和错误的验证码"000000"点击"登录"
    那么 系统不让用户登录
    并且 页面提示"验证码错误"

  场景: 成功登录
    假如 一个手机号"13800138000"已被注册
    并且 用户在登录页面
    当 用户使用该手机号和正确的验证码点击"登录"
    那么 系统验证成功
    并且 页面提示"登录成功"
    并且 页面自动跳转到首页