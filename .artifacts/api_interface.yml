- type: Backend
  id: API-POST-SendVerificationCode
  route: POST /api/auth/send-verification-code
  description: å‘é€éªŒè¯ç åˆ°æŒ‡å®šæ‰‹æœºå·ï¼Œç”¨äºç™»å½•å’Œæ³¨å†Œæµç¨‹ã€?  input:
    type: JSON
    body:
      phoneNumber: string
  output:
    success:
      statusCode: 200
      body: { message: "éªŒè¯ç å·²å‘é€?, expiresIn: 60 }
    error:
      - statusCode: 400
        body: { error: "è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç " }
      - statusCode: 429
        body: { error: "è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•" }
  dependencies:
    - DB-CreateVerificationCode
  acceptanceCriteria:
    - å½“æ¥æ”¶åˆ°æœ‰æ•ˆæ‰‹æœºå·æ—¶ï¼Œåº”ç”Ÿæˆ6ä½éªŒè¯ç å¹¶è¿”å›æˆåŠŸå“åº”ã€?    - å½“æ‰‹æœºå·æ ¼å¼æ— æ•ˆæ—¶ï¼Œåº”è¿”å›?00é”™è¯¯ã€?    - éªŒè¯ç åº”åœ¨æ§åˆ¶å°æ‰“å°ä»¥ä¾¿å¼€å‘è°ƒè¯•ã€?    - åŒä¸€æ‰‹æœºå?0ç§’å†…åªèƒ½å‘é€ä¸€æ¬¡éªŒè¯ç ã€?  changeLog:
    - date: "2025-01-12"
      description: "åˆå§‹åˆ›å»ºã€?

- type: Backend
  id: API-PUT-UpdateUserProfile
  route: PUT /api/user/profile
  description: æ›´æ–°ç”¨æˆ·ä¸ªäººä¿¡æ¯
  input:
    - nickname: string (å¯é€? - ç”¨æˆ·æ˜µç§°
    - avatar: string (å¯é€? - å¤´åƒURL
  output:
    success:
      - code: 200
      - message: "ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸ"
      - data: object - æ›´æ–°åçš„ç”¨æˆ·ä¿¡æ¯
    error:
      - code: 400 - å‚æ•°é”™è¯¯
      - code: 401 - æœªæˆæ?      - code: 404 - ç”¨æˆ·ä¸å­˜åœ?  dependencies:
    - DB-UpdateUserProfile
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - æˆåŠŸæ›´æ–°ç”¨æˆ·ä¿¡æ¯å¹¶è¿”å›æœ€æ–°æ•°æ?    - å‚æ•°éªŒè¯å¤±è´¥æ—¶è¿”å›å…·ä½“é”™è¯¯ä¿¡æ?  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢ç”¨æˆ·ä¿¡æ¯æ›´æ–°æ¥å£ã€?

- type: Backend
  id: API-POST-Logout
  route: POST /api/auth/logout
  description: ç”¨æˆ·é€€å‡ºç™»å½?  input:
    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - message: "é€€å‡ºç™»å½•æˆåŠ?
    error:
      - code: 401 - æœªæˆæ?  dependencies:
    - none
  acceptanceCriteria:
    - æ¸…é™¤ç”¨æˆ·çš„ç™»å½•çŠ¶æ€?    - ä½¿å½“å‰tokenå¤±æ•ˆ
    - è¿”å›æˆåŠŸçŠ¶æ€?  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢ç”¨æˆ·é€€å‡ºç™»å½•æ¥å£ã€?

- type: Backend
  id: API-GET-ProductList
  route: GET /api/products
  description: è·å–å•†å“åˆ—è¡¨
  input:
    - page: number (å¯é€‰ï¼Œé»˜è®¤1) - é¡µç 
    - pageSize: number (å¯é€‰ï¼Œé»˜è®¤10) - æ¯é¡µæ•°é‡
    - keyword: string (å¯é€? - æœç´¢å…³é”®è¯?    - category: string (å¯é€? - å•†å“åˆ†ç±»
    - sortBy: string (å¯é€? - æ’åºå­—æ®µ
    - sortOrder: string (å¯é€? - æ’åºæ–¹å‘
  output:
    success:
      - code: 200
      - data: object
        - products: array - å•†å“åˆ—è¡¨
        - total: number - æ€»æ•°é‡?        - page: number - å½“å‰é¡µç 
        - pageSize: number - æ¯é¡µæ•°é‡
    error:
      - code: 400 - å‚æ•°é”™è¯¯
  dependencies:
    - DB-GetProductList
  acceptanceCriteria:
    - æ”¯æŒåˆ†é¡µæŸ¥è¯¢
    - æ”¯æŒæŒ‰å…³é”®è¯æœç´¢
    - æ”¯æŒæŒ‰åˆ†ç±»ç­›é€?    - æ”¯æŒæ’åºåŠŸèƒ½
  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢å•†å“åˆ—è¡¨æŸ¥è¯¢æ¥å£ã€?

- type: Backend
  id: API-GET-ProductDetail
  route: GET /api/products/:id
  description: è·å–å•†å“è¯¦æƒ…
  input:
    - id: string - å•†å“ID (è·¯å¾„å‚æ•°)
  output:
    success:
      - code: 200
      - data: object - å•†å“è¯¦ç»†ä¿¡æ¯
    error:
      - code: 404 - å•†å“ä¸å­˜åœ?  dependencies:
    - DB-GetProductById
  acceptanceCriteria:
    - è¿”å›å®Œæ•´çš„å•†å“ä¿¡æ?    - å•†å“ä¸å­˜åœ¨æ—¶è¿”å›404é”™è¯¯
  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢å•†å“è¯¦æƒ…æŸ¥è¯¢æ¥å£ã€?

- type: Backend
  id: API-GET-Cart
  route: GET /api/cart
  description: è·å–ç”¨æˆ·è´­ç‰©è½?  input:
    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - data: object
        - items: array - è´­ç‰©è½¦å•†å“åˆ—è¡?        - totalAmount: number - æ€»é‡‘é¢?    error:
      - code: 401 - æœªæˆæ?  dependencies:
    - DB-GetCartByUserId
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - è¿”å›è´­ç‰©è½¦ä¸­çš„æ‰€æœ‰å•†å“?    - è®¡ç®—æ€»é‡‘é¢?  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è´­ç‰©è½¦æŸ¥è¯¢æ¥å£ã€?

- type: Backend
  id: API-POST-AddToCart
  route: POST /api/cart/add
  description: æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
  input:
    - productId: string - å•†å“ID
    - quantity: number - æ•°é‡
    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - message: "æ·»åŠ æˆåŠŸ"
      - data: object - è´­ç‰©è½¦ä¿¡æ?    error:
      - code: 400 - å‚æ•°é”™è¯¯æˆ–åº“å­˜ä¸è¶?      - code: 401 - æœªæˆæ?      - code: 404 - å•†å“ä¸å­˜åœ?  dependencies:
    - DB-AddToCart
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - éªŒè¯å•†å“å­˜åœ¨æ€§å’Œåº“å­˜
    - æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦
  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è´­ç‰©è½¦æ·»åŠ æ¥å£ã€?

- type: Backend
  id: API-PUT-UpdateCartItem
  route: PUT /api/cart/item/:id
  description: æ›´æ–°è´­ç‰©è½¦å•†å“æ•°é‡?  input:
    - id: string - è´­ç‰©è½¦é¡¹ID (è·¯å¾„å‚æ•°)
    - quantity: number - æ–°æ•°é‡?    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - message: "æ›´æ–°æˆåŠŸ"
      - data: object - æ›´æ–°åçš„è´­ç‰©è½¦ä¿¡æ?    error:
      - code: 400 - å‚æ•°é”™è¯¯æˆ–åº“å­˜ä¸è¶?      - code: 401 - æœªæˆæ?      - code: 404 - è´­ç‰©è½¦é¡¹ä¸å­˜åœ?  dependencies:
    - DB-UpdateCartItem
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - éªŒè¯åº“å­˜å……è¶³æ€?    - æ•°é‡ä¸?æ—¶åˆ é™¤è¯¥é¡?  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è´­ç‰©è½¦æ›´æ–°æ¥å£ã€?

- type: Backend
  id: API-DELETE-CartItem
  route: DELETE /api/cart/item/:id
  description: åˆ é™¤è´­ç‰©è½¦å•†å“?  input:
    - id: string - è´­ç‰©è½¦é¡¹ID (è·¯å¾„å‚æ•°)
    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - message: "åˆ é™¤æˆåŠŸ"
    error:
      - code: 401 - æœªæˆæ?      - code: 404 - è´­ç‰©è½¦é¡¹ä¸å­˜åœ?  dependencies:
    - DB-RemoveFromCart
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - æˆåŠŸåˆ é™¤è´­ç‰©è½¦é¡¹
  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è´­ç‰©è½¦åˆ é™¤æ¥å£ã€?

- type: Backend
  id: API-POST-CreateOrder
  route: POST /api/orders
  description: åˆ›å»ºè®¢å•
  input:
    - items: array - è®¢å•å•†å“åˆ—è¡¨
    - shippingAddress: object - æ”¶è´§åœ°å€
    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 201
      - message: "è®¢å•åˆ›å»ºæˆåŠŸ"
      - data: object - è®¢å•ä¿¡æ¯
    error:
      - code: 400 - å‚æ•°é”™è¯¯æˆ–åº“å­˜ä¸è¶?      - code: 401 - æœªæˆæ?  dependencies:
    - DB-CreateOrder
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - éªŒè¯å•†å“åº“å­˜
    - åˆ›å»ºè®¢å•å¹¶æ¸…ç©ºè´­ç‰©è½¦
    - æ›´æ–°å•†å“åº“å­˜
  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è®¢å•åˆ›å»ºæ¥å£ã€?

- type: Backend
  id: API-GET-OrderList
  route: GET /api/orders
  description: è·å–ç”¨æˆ·è®¢å•åˆ—è¡¨
  input:
    - page: number (å¯é€‰ï¼Œé»˜è®¤1) - é¡µç 
    - pageSize: number (å¯é€‰ï¼Œé»˜è®¤10) - æ¯é¡µæ•°é‡
    - status: string (å¯é€? - è®¢å•çŠ¶æ€ç­›é€?    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - data: object
        - orders: array - è®¢å•åˆ—è¡¨
        - total: number - æ€»æ•°é‡?        - page: number - å½“å‰é¡µç 
        - pageSize: number - æ¯é¡µæ•°é‡
    error:
      - code: 401 - æœªæˆæ?  dependencies:
    - DB-GetOrdersByUserId
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - æ”¯æŒåˆ†é¡µæŸ¥è¯¢
    - æ”¯æŒæŒ‰çŠ¶æ€ç­›é€?  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è®¢å•åˆ—è¡¨æŸ¥è¯¢æ¥å£ã€?

- type: Backend
  id: API-GET-OrderDetail
  route: GET /api/orders/:id
  description: è·å–è®¢å•è¯¦æƒ…
  input:
    - id: string - è®¢å•ID (è·¯å¾„å‚æ•°)
    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - data: object - è®¢å•è¯¦ç»†ä¿¡æ¯
    error:
      - code: 401 - æœªæˆæ?      - code: 404 - è®¢å•ä¸å­˜åœ?  dependencies:
    - DB-GetOrderById
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - éªŒè¯è®¢å•å±äºå½“å‰ç”¨æˆ·
    - è¿”å›å®Œæ•´è®¢å•ä¿¡æ¯
  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è®¢å•è¯¦æƒ…æŸ¥è¯¢æ¥å£ã€?

- type: Backend
  id: API-PUT-CancelOrder
  route: PUT /api/orders/:id/cancel
  description: å–æ¶ˆè®¢å•
  input:
    - id: string - è®¢å•ID (è·¯å¾„å‚æ•°)
    - token: string - ç”¨æˆ·è®¤è¯ä»¤ç‰Œ
  output:
    success:
      - code: 200
      - message: "è®¢å•å–æ¶ˆæˆåŠŸ"
    error:
      - code: 400 - è®¢å•çŠ¶æ€ä¸å…è®¸å–æ¶ˆ
      - code: 401 - æœªæˆæ?      - code: 404 - è®¢å•ä¸å­˜åœ?  dependencies:
    - DB-UpdateOrderStatus
  acceptanceCriteria:
    - éœ€è¦ç”¨æˆ·ç™»å½•çŠ¶æ€éªŒè¯?    - éªŒè¯è®¢å•å±äºå½“å‰ç”¨æˆ·
    - éªŒè¯è®¢å•çŠ¶æ€å…è®¸å–æ¶?    - æ›´æ–°è®¢å•çŠ¶æ€ä¸ºå·²å–æ¶?  changeLog:
    - date: "2025-01-12"
      description: "æ–°å¢è®¢å•å–æ¶ˆæ¥å£ã€?

- type: Backend
  id: API-POST-Login
  route: POST /api/auth/login
  description: å¤„ç†ç”¨æˆ·ç™»å½•è¯·æ±‚ï¼ŒéªŒè¯æ‰‹æœºå·å’ŒéªŒè¯ç ã€?  input:
    type: JSON
    body:
      phoneNumber: string
      verificationCode: string
  output:
    success:
      statusCode: 200
      body: { message: "ç™»å½•æˆåŠŸ", userId: "uuid", token: "jwt" }
    error:
      - statusCode: 400
        body: { error: "è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç å’ŒéªŒè¯ç " }
      - statusCode: 401
        body: { error: "éªŒè¯ç é”™è¯? }
      - statusCode: 404
        body: { error: "è¯¥æ‰‹æœºå·æœªæ³¨å†Œï¼Œè¯·å…ˆå®Œæˆæ³¨å†Œ" }
  dependencies:
    - DB-FindUserByPhone
    - DB-VerifyCode
  acceptanceCriteria:
    - å½“ç”¨æˆ·å·²æ³¨å†Œä¸”éªŒè¯ç æ­£ç¡®æ—¶ï¼Œåº”è¿”å›?00æˆåŠŸå“åº”å’ŒJWTä»¤ç‰Œã€?    - å½“ç”¨æˆ·æœªæ³¨å†Œæ—¶ï¼Œåº”è¿”å›?04é”™è¯¯ã€?    - å½“éªŒè¯ç é”™è¯¯æˆ–è¿‡æœŸæ—¶ï¼Œåº”è¿”å›401é”™è¯¯ã€?    - æˆåŠŸç™»å½•ååº”ç”Ÿæˆæœ‰æ•ˆçš„JWTä»¤ç‰Œã€?  changeLog:
    - date: "2025-01-12"
      description: "åˆå§‹åˆ›å»ºã€?

- type: Backend
  id: API-POST-Register
  route: POST /api/auth/register
  description: å¤„ç†ç”¨æˆ·æ³¨å†Œè¯·æ±‚ï¼ŒåŒ…å«éªŒè¯ç æ ¡éªŒå’Œç”¨æˆ·åˆ›å»ºã€?  input:
    type: JSON
    body:
      phoneNumber: string
      verificationCode: string
      agreeToTerms: boolean
  output:
    success:
      statusCode: 201
      body: { message: "æ³¨å†ŒæˆåŠŸ", userId: "uuid", token: "jwt" }
    error:
      - statusCode: 400
        body: { error: "è¯·è¾“å…¥æ­£ç¡®çš„ä¿¡æ¯å¹¶åŒæ„ç”¨æˆ·åè®? }
      - statusCode: 401
        body: { error: "éªŒè¯ç é”™è¯? }
      - statusCode: 409
        body: { error: "è¯¥æ‰‹æœºå·å·²æ³¨å†Œï¼Œå°†ç›´æ¥ä¸ºæ‚¨ç™»å½?, userId: "uuid", token: "jwt" }
  dependencies:
    - DB-FindUserByPhone
    - DB-VerifyCode
    - DB-CreateUser
  acceptanceCriteria:
    - å½“æ¥æ”¶åˆ°åˆæ³•ä¸”æœªæ³¨å†Œçš„æ•°æ®æ—¶ï¼Œåº”è¿”å›201 Createdã€?    - å½“æ‰‹æœºå·å·²å­˜åœ¨æ—¶ï¼Œåº”è¿”å›409 Conflictå¹¶ç›´æ¥ç™»å½•ç”¨æˆ·ã€?    - å½“éªŒè¯ç é”™è¯¯æ—¶ï¼Œåº”è¿”å›?01é”™è¯¯ã€?    - å½“æœªåŒæ„ç”¨æˆ·åè®®æ—¶ï¼Œåº”è¿”å›?00é”™è¯¯ã€?    - æˆåŠŸæ³¨å†Œååº”è‡ªåŠ¨ç™»å½•ç”¨æˆ·å¹¶è¿”å›JWTä»¤ç‰Œã€?  changeLog:
    - date: "2025-01-12"
      description: "åˆå§‹åˆ›å»ºã€?

- type: Backend
  id: API-GET-UserProfile
  route: GET /api/user/profile
  description: è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ã€?  input:
    type: Headers
    headers:
      Authorization: "Bearer {jwt_token}"
  output:
    success:
      statusCode: 200
      body: { userId: "uuid", phoneNumber: "string", createdAt: "datetime" }
    error:
      - statusCode: 401
        body: { error: "æœªæˆæƒè®¿é—? }
      - statusCode: 404
        body: { error: "ç”¨æˆ·ä¸å­˜åœ? }
  dependencies:
    - DB-FindUserByPhone
  acceptanceCriteria:
    - å½“æä¾›æœ‰æ•ˆJWTä»¤ç‰Œæ—¶ï¼Œåº”è¿”å›ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€?    - å½“ä»¤ç‰Œæ— æ•ˆæˆ–è¿‡æœŸæ—¶ï¼Œåº”è¿”å›?01é”™è¯¯ã€?    - å½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶ï¼Œåº”è¿”å›?04é”™è¯¯ã€?  changeLog:
    - date: "2025-01-12"
      description: "åˆå§‹åˆ›å»ºã€?
